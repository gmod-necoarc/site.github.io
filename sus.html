<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bypass Fix</title>
    <style>
        button { 
            width: 100%; padding: 50px; font-size: 24px; 
            background: #4CAF50; color: white; border: none; border-radius: 20px;
        }
    </style>
</head>
<body>

    <button onclick="bypass()">ОТКРЫТЬ НАСТРОЙКИ</button>

    <script>
    function bypass() {
        const pkg = "ru.yandex.androidkeyboard.centaur";
        const intent = `intent:#Intent;action=android.settings.APPLICATION_DETAILS_SETTINGS;data=package:${pkg};end`;

        // 1. Открываем пустую вкладку (создаем новый чистый контекст)
        var newWin = window.open('about:blank', '_blank');
        
        if (newWin) {
            // 2. Пишем в новую вкладку скрипт автоматического редиректа
            newWin.document.write(`
                <script>
                    window.location.href = "${intent}";
                    setTimeout(function() { window.close(); }, 500);
                <\/script>
            `);
        } else {
            // Если всплывающее окно заблокировано, пробуем обычный метод
            window.location.href = intent;
        }
    }
    </script>

</body>
</html>
